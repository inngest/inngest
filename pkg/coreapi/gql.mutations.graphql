scalar Map

type Mutation {
  createApp(input: CreateAppInput!): App!
  updateApp(input: UpdateAppInput!): App!
  deleteApp(id: String!): String! # returns the ID of the deleted app
  deleteAppByName(name: String!): Boolean!

  invokeFunction(
    data: Map
    functionSlug: String!
    user: Map
    debugSessionID: ULID
    debugRunID: ULID
  ): Boolean

  cancelRun(runID: ULID!): FunctionRun!
  rerun(
    runID: ULID!
    fromStep: RerunFromStepInput
    debugSessionID: ULID
    debugRunID: ULID
  ): ULID!

  createDebugSession(
    input: CreateDebugSessionInput!
  ): CreateDebugSessionResponse!
}

input CreateAppInput {
  url: String!
}

input UpdateAppInput {
  id: String!
  url: String!
}

input RerunFromStepInput {
  stepID: String!
  input: Bytes
}

input CreateDebugSessionInput {
  workspaceId: ID! = "local"
  functionSlug: String!
  runID: String
}

type CreateDebugSessionResponse {
  debugSessionID: ULID!
  debugRunID: ULID!
}
