export const description = `Sleep until a specific date time with step.sleepUntil()`;

# Sleep until `step.sleepUntil()`

Use `step.sleepUntil()` to pause the execution of your function until a specific date time.

<CodeGroup>
```ts {{ title: "v3" }}
export default inngest.createFunction(
  { id: "send-scheduled-reminder" },
  { event: "app/reminder.scheduled" },
  async ({ event, step }) => {
    const d = new Date(event.data.remind_at);
    await step.sleepUntil("wait-for-the-date", d);
    // Do something else
  }
);
```
```ts {{ title: "v2" }}
export default inngest.createFunction(
  { name: "Send scheduled reminder" },
  { event: "app/reminder.scheduled" },
  async ({ event, step }) => {
    const d = new Date(event.data.remind_at)
    await step.sleepUntil(d);
    // Do something else
  }
);
```
</CodeGroup>

To sleep until a particular amount of time from now, use [`step.sleep()`](/docs/reference/functions/step-sleep) instead.

---

## `step.sleepUntil(id, datetime): Promise`

<Row>
  <Col>
    <Properties>
      <Property name="id" type="string" required>
        The ID of the step. This will be what appears in your function's logs and is used to memoize step state across function versions.
      </Property>
      <Property name="datetime" type="Date | string" required>
        The datetime at which to continue execution of your function. This can be:

        * A [`Date`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date) object
        * Any date time string in [the format accepted by the `Date` object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date#date_time_string_format), i.e. `YYYY-MM-DDTHH:mm:ss.sssZ` or simplified forms like `YYYY-MM-DD` or `YYYY-MM-DDHH:mm:ss`
      </Property>
    </Properties>
  </Col>
  <Col>
  <CodeGroup>
  ```ts {{ title: "v3" }}
  // Sleep until the new year
  await step.sleepUntil("happy-new-year", "2024-01-01");

  // Sleep until September ends
  await step.sleepUntil("wake-me-up", "2023-09-30T11:59:59");

  // Sleep until the end of the this week
  const d = dayjs().endOf("week").toDate();
  await step.sleepUntil("wait-for-end-of-the-week", d);
  ```
  ```ts {{ title: "v2" }}
  // Sleep until the new year
  await step.sleepUntil("2024-01-01");

  // Sleep until September ends
  await step.sleepUntil("2023-09-30T11:59:59");

  // Sleep until the end of the this week
  const d = dayjs().endOf('week').toDate();
  await step.sleepUntil(d)
  ```
  </CodeGroup>
  </Col>
</Row>

<Callout>
  `step.sleepUntil()` must be called using `await` or some other Promise handler to ensure your function sleeps correctly.
</Callout>
