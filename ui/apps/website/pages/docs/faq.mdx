# Frequently Asked Questions

- [How do I run crons only in production?](#how-do-i-run-crons-only-in-production)
- [How do I stop functions from running?](#how-do-i-stop-functions-from-running)
- [Why am I getting â€œEvent key not found" errors in branch environments?](#why-am-i-getting-event-key-not-found-errors-in-branch-environments)
- [How do I specify multiple serve paths for a same Vercel application on the Dashboard?](#why-am-i-getting-event-key-not-found-errors-in-branch-environments)
- [What's the recommended way to redact data from step outputs?](#what-s-the-recommended-way-to-redact-data-from-step-outputs)
- [Why am I getting a `FUNCTION_INVOCATION_TIMEOUT` error?](#why-am-i-getting-a-function-invocation-timeout-error)
- [My app's serve endpoint requires authentication. What should I do?](#my-app-s-serve-endpoint-requires-authentication-what-should-i-do)
- [Why am I getting a `NON_DETERMINISTIC_FUNCTION` error?](#why-am-i-getting-a-non-deterministic-function-error)

## How do I run crons only in production?

There are multiple ways to achieve it:
1. Conditionally rendering depending on the environment.
```javascript
process.env.NODE_ENV === "production" ? { cron: "* * *" } : { event: "dev/manualXYZ" }
```
ðŸ’¡ If you render an event instead of a cron in the other environments, you can still trigger your functions manually if needed.

2. [Disable branch environments](/docs/platform/environments#disabling-branch-environments-in-vercel).

## How do I stop functions from running?
The best way to ensure a deprecated function doesn't run is to deploy without including it in your [serve handler](/docs/reference/serve). You can temporarily achieved the same result by archiving the function on our dashboard, but note that a new deployment will unarchive the function.

## Why am I getting â€œEvent key not found" errors in branch environments?
Branch environments are [automatically archived](/docs/platform/environments#archiving-branch-environments) 3 days after their latest deploy.
It's possible to disable the auto archive functionality for each active environment on our [dashboard](https://app.inngest.com/env).


## How do I specify multiple serve paths for a same Vercel application on the dashboard?
You can pass multiple paths as comma-delimited values under the Vercel app in the [Vercel Integrationâ€™s settings](https://app.inngest.com/settings/integrations/vercel).

## What's the recommended way to redact data from step outputs?
We recommend doing [E2E encryption](/docs/reference/middleware/examples#e2-e-encryption) instead, as it's more secure and plaintext data never leaves your servers.

## Why am I getting a `FUNCTION_INVOCATION_TIMEOUT` error?
This is a Vercel error that means your function timed out within Vercel's infrastructure before it was able to respond to Inngest. More information can be found in [Vercel's docs](https://vercel.com/docs/functions/serverless-functions/runtimes#max-duration).

If you're unable to sufficiently extend the timeout within Vercel, our [streaming feature](/docs/streaming) can help.

## My app's serve endpoint requires authentication. What should I do?
Your app's [serve endpoint](/docs/sdk/serve) needs to be accessible by our
servers, so we can trigger your functions. For this reason, we recommend disabling authentication
for the serve endpoint.

Our servers communicate securely with your app's serve endpoint using your [signing key](/docs/sdk/serve#signing-key).

### Vercel
By default, Vercel enables [Deployment Protection](https://vercel.com/docs/security/deployment-protection)
for both preview and generated production URLs. This means that your app's serve endpoint will be
unreachable by our servers unless you [disable Deployment Protection](https://vercel.com/docs/security/deployment-protection#configuring-deployment-protection)
or, if you're on Vercel's Pro plan, [configure protection bypass](/docs/deploy/vercel#bypassing-deployment-protection).

## Why am I getting a `killed` error when running the Dev Server?
This is likely an npx issue, which can be solved by running `rm -rf ~/.npm/_npx`. If the error still persist, please reach out to us on [our Discord](https://www.inngest.com/discord).

## Why am I getting a `NON_DETERMINISTIC_FUNCTION` error?
This is an error present in v2.x.x of the TypeScript SDK that can be thrown when a deployment changes a function in the middle of a run.

If you're seeing this error, we encourage you to upgrade to v3.x.x of the TypeScript SDK, which will recover and continue gracefully from this circumstance.

For more information, see the [Upgrading from v2 to v3](/docs/sdk/migration) migration guide.
